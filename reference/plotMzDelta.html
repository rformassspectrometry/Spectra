<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>MZ delta Quality Control — plotMzDelta • Spectra</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="MZ delta Quality Control — plotMzDelta" />
<meta property="og:description" content="The M/Z delta plot illustrates the suitability of MS2 spectra for
identification by plotting the M/Z differences of the most intense
peaks. The resulting histogram should optimally show modes at
amino acid residu masses. The plots have been described in Foster
et al. 2011.
Only a certain percentage of most intense MS2 peaks are taken into
account to use the most significant signal. Default value is 20%
(see percentage argument). The difference between peaks is then
computed for all individual spectra and their distribution is
plotted as a histogram. Delta M/Z between 40 and 200 are plotted
by default, to encompass the residue masses of all amino acids and
several common contaminants, although this can be changes with the
mzRange argument.
In addition to the processing described above, isobaric reporter
tag peaks and the precursor peak can also be removed from the MS2
spectrum, to avoid interence with the fragment peaks.
Note that figures in Foster et al. 2011 have been produced and
optimised for centroided data. While running the function on
profile mode is likely fine, it is recommended to use centroided
data.
A ggplot2 based function called ggMzDeltaPlot() to visualise
the M/Z delta distributions is available at
https://gist.github.com/lgatto/c72b1ff5a4116118dbb34d9d2bc3470a." />
<meta property="og:image" content="/logo.png" />






<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  

  

  </head>

  <body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">Spectra</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.3.10</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../articles/Spectra.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/RforMassSpectrometry/Spectra/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>MZ delta Quality Control</h1>
    <small class="dont-index">Source: <a href='https://github.com/RforMassSpectrometry/Spectra/blob/master/R/mz-delta-functions.R'><code>R/mz-delta-functions.R</code></a></small>
    <div class="hidden name"><code>plotMzDelta.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The M/Z delta plot illustrates the suitability of MS2 spectra for
identification by plotting the M/Z differences of the most intense
peaks. The resulting histogram should optimally show modes at
amino acid residu masses. The plots have been described in Foster
et al. 2011.</p>
<p>Only a certain percentage of most intense MS2 peaks are taken into
account to use the most significant signal. Default value is 20%
(see <code>percentage</code> argument). The difference between peaks is then
computed for all individual spectra and their distribution is
plotted as a histogram. Delta M/Z between 40 and 200 are plotted
by default, to encompass the residue masses of all amino acids and
several common contaminants, although this can be changes with the
<code>mzRange</code> argument.</p>
<p>In addition to the processing described above, isobaric reporter
tag peaks and the precursor peak can also be removed from the MS2
spectrum, to avoid interence with the fragment peaks.</p>
<p>Note that figures in Foster et al. 2011 have been produced and
optimised for centroided data. While running the function on
profile mode is likely fine, it is recommended to use centroided
data.</p>
<p>A <code>ggplot2</code> based function called <code>ggMzDeltaPlot()</code> to visualise
the M/Z delta distributions is available at
<a href='https://gist.github.com/lgatto/c72b1ff5a4116118dbb34d9d2bc3470a'>https://gist.github.com/lgatto/c72b1ff5a4116118dbb34d9d2bc3470a</a>.</p>
    </div>

    <div class="ref-usage sourceCode"><pre class='sourceCode r'><code><span class='fu'>computeMzDeltas</span><span class='op'>(</span>
  <span class='va'>object</span>,
  percentage <span class='op'>=</span> <span class='fl'>0.2</span>,
  mzRange <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>40</span>, <span class='fl'>200</span><span class='op'>)</span>,
  BPPARAM <span class='op'>=</span> <span class='fu'>BiocParallel</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/BiocParallel/man/register.html'>bpparam</a></span><span class='op'>(</span><span class='op'>)</span>
<span class='op'>)</span>

<span class='fu'>plotMzDelta</span><span class='op'>(</span><span class='va'>x</span>, aaLabels <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span></code></pre></div>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>object</th>
      <td><p>An instance of class <code><a href='Spectra.html'>Spectra()</a></code>.</p></td>
    </tr>
    <tr>
      <th>percentage</th>
      <td><p><code>numeric(1)</code> between 0 and 1 indicating the
percentage of the most intense peaks in each MS2 spectrum to
include in the calculation. Default is 0.2.</p></td>
    </tr>
    <tr>
      <th>mzRange</th>
      <td><p><code>numeric(2)</code> with the upper and lower M/Z to be used to
the MZ deltas. Default is <code>c(40, 200)</code>.</p></td>
    </tr>
    <tr>
      <th>BPPARAM</th>
      <td><p>An optional <code>BiocParallelParam</code> instance determining
the parallel back-end to be used during evaluation. Default is
to use <code><a href='https://rdrr.io/pkg/BiocParallel/man/register.html'>BiocParallel::bpparam()</a></code>. See <code><a href='https://rdrr.io/pkg/BiocParallel/man/register.html'>?BiocParallel::bpparam</a></code>
for details.</p></td>
    </tr>
    <tr>
      <th>x</th>
      <td><p>A list of M/Z delta values, as returned by
<code>computeMzDeltas()</code>.</p></td>
    </tr>
    <tr>
      <th>aaLabels</th>
      <td><p><code>logical(1)</code> defining whether the amino acids
should be labelled on the histogram. Default is <code>TRUE</code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p><code>computeMzDeltas()</code> returns a <code>list</code> of numeric
vectors. <code>plotMzDelta()</code> is used to visualise of M/Z delta
distributions.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Foster JM, Degroeve S, Gatto L, Visser M, Wang R, Griss J, et al. A
posteriori quality control for the curation and reuse of public
proteomics data. Proteomics. 2011;11:
2182-2194. http://dx.doi.org/10.1002/pmic.201000602</p>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Laurent Gatto with contributions (to MSnbase) of
Guangchuang Yu.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <div class="ref-examples sourceCode"><pre class='sourceCode r'><code><span class='r-in'></span>
<span class='r-in'><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'>msdata</span><span class='op'>)</span></span>
<span class='r-in'><span class='va'>f</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/msdata/man/proteomics.html'>proteomics</a></span><span class='op'>(</span>pattern <span class='op'>=</span> <span class='st'>"TMT.+20141210.mzML.gz"</span>, full.names <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span></span>
<span class='r-in'><span class='va'>sp</span> <span class='op'>&lt;-</span> <span class='fu'><a href='Spectra.html'>Spectra</a></span><span class='op'>(</span><span class='va'>f</span><span class='op'>)</span></span>
<span class='r-in'></span>
<span class='r-in'><span class='va'>d</span> <span class='op'>&lt;-</span> <span class='fu'>computeMzDeltas</span><span class='op'>(</span><span class='va'>sp</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>1000</span><span class='op'>]</span><span class='op'>)</span></span>
<span class='r-in'><span class='fu'>plotMzDelta</span><span class='op'>(</span><span class='va'>d</span><span class='op'>)</span></span>
<span class='r-plt'><img src='plotMzDelta-1.png' alt='' width='700' height='433' /></span>
</code></pre></div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p><p>Developed by RforMassSpectrometry Package Maintainer, Laurent Gatto, Johannes Rainer, Sebastian Gibb.</p></p>
</div>

<div class="pkgdown">
  <p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 1.6.1.9001.</p></p>
</div>

      </footer>
   </div>

  


  

  </body>
</html>


