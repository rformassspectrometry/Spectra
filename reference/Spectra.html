<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>The Spectra class to manage and access MS data — Spectra • Spectra</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="The Spectra class to manage and access MS data — Spectra"><meta name="description" content="The Spectra class encapsules spectral mass spectrometry (MS) data and
related metadata. The MS data is represented by a backend extending the
virual MsBackend class which provides the data to the Spectra object.
The Spectra class implements only data accessor, filtering and analysis
methods for the MS data and relies on its backend to provide the MS data.
This allows to change data representations of a Spectra object depending
on the user's needs and properties of the data. Different backends and
their properties are explained in the MsBackend documentation.
Documentation on other topics and functionality of Spectracan be found in:
spectraData() for accessing and using MS data through Spectra objects.
filterMsLevel() to subset and filter Spectra objects.
plotSpectra() for visualization of Spectra objects.
processingChunkSize() for information on parallel and chunk-wise data
processing.
combineSpectra() for merging, aggregating and splitting of Spectra
objects.
combinePeaks() for merging and aggregating Spectra's mass peaks data.
addProcessing() for data analysis functions.
compareSpectra() for spectra similarity calculations.

"><meta property="og:description" content="The Spectra class encapsules spectral mass spectrometry (MS) data and
related metadata. The MS data is represented by a backend extending the
virual MsBackend class which provides the data to the Spectra object.
The Spectra class implements only data accessor, filtering and analysis
methods for the MS data and relies on its backend to provide the MS data.
This allows to change data representations of a Spectra object depending
on the user's needs and properties of the data. Different backends and
their properties are explained in the MsBackend documentation.
Documentation on other topics and functionality of Spectracan be found in:
spectraData() for accessing and using MS data through Spectra objects.
filterMsLevel() to subset and filter Spectra objects.
plotSpectra() for visualization of Spectra objects.
processingChunkSize() for information on parallel and chunk-wise data
processing.
combineSpectra() for merging, aggregating and splitting of Spectra
objects.
combinePeaks() for merging and aggregating Spectra's mass peaks data.
addProcessing() for data analysis functions.
compareSpectra() for spectra similarity calculations.

"><meta property="og:image" content="https://rformassspectrometry.github.io/Spectra/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">Spectra</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.19.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/Spectra.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/MsBackend.html">Creating new `MsBackend` classes</a></li>
    <li><a class="dropdown-item" href="../articles/Spectra-large-scale.html">Large-scale data handling and processing with Spectra</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/RforMassSpectrometry/Spectra/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>The Spectra class to manage and access MS data</h1>
      <small class="dont-index">Source: <a href="https://github.com/RforMassSpectrometry/Spectra/blob/main/R/Spectra.R" class="external-link"><code>R/Spectra.R</code></a></small>
      <div class="d-none name"><code>Spectra.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The <code>Spectra</code> class encapsules spectral mass spectrometry (MS) data and
related metadata. The MS data is represented by a <em>backend</em> extending the
virual <a href="MsBackend.html">MsBackend</a> class which provides the data to the <code>Spectra</code> object.
The <code>Spectra</code> class implements only data accessor, filtering and analysis
methods for the MS data and relies on its <em>backend</em> to provide the MS data.
This allows to change data representations of a <code>Spectra</code> object depending
on the user's needs and properties of the data. Different backends and
their properties are explained in the <a href="MsBackend.html">MsBackend</a> documentation.</p>
<p>Documentation on other topics and functionality of <code>Spectra</code>can be found in:</p><ul><li><p><code><a href="spectraData.html">spectraData()</a></code> for accessing and using MS data through <code>Spectra</code> objects.</p></li>
<li><p><code><a href="filterMsLevel.html">filterMsLevel()</a></code> to subset and filter <code>Spectra</code> objects.</p></li>
<li><p><code><a href="spectra-plotting.html">plotSpectra()</a></code> for visualization of <code>Spectra</code> objects.</p></li>
<li><p><code><a href="processingChunkSize.html">processingChunkSize()</a></code> for information on parallel and chunk-wise data
processing.</p></li>
<li><p><code><a href="combineSpectra.html">combineSpectra()</a></code> for merging, aggregating and splitting of <code>Spectra</code>
objects.</p></li>
<li><p><code><a href="combinePeaks.html">combinePeaks()</a></code> for merging and aggregating <code>Spectra</code>'s mass peaks data.</p></li>
<li><p><code><a href="addProcessing.html">addProcessing()</a></code> for data analysis functions.</p></li>
<li><p><code><a href="compareSpectra.html">compareSpectra()</a></code> for spectra similarity calculations.</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S4 method for class 'missing'</span></span>
<span><span class="fu">Spectra</span><span class="op">(</span></span>
<span>  <span class="va">object</span>,</span>
<span>  processingQueue <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  metadata <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  backend <span class="op">=</span> <span class="fu"><a href="MsBackend.html">MsBackendMemory</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  BPPARAM <span class="op">=</span> <span class="fu">bpparam</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'MsBackend'</span></span>
<span><span class="fu">Spectra</span><span class="op">(</span></span>
<span>  <span class="va">object</span>,</span>
<span>  processingQueue <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  metadata <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  BPPARAM <span class="op">=</span> <span class="fu">bpparam</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'character'</span></span>
<span><span class="fu">Spectra</span><span class="op">(</span></span>
<span>  <span class="va">object</span>,</span>
<span>  processingQueue <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  metadata <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  source <span class="op">=</span> <span class="fu"><a href="MsBackend.html">MsBackendMzR</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  backend <span class="op">=</span> <span class="va">source</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  BPPARAM <span class="op">=</span> <span class="fu">bpparam</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'ANY'</span></span>
<span><span class="fu">Spectra</span><span class="op">(</span></span>
<span>  <span class="va">object</span>,</span>
<span>  processingQueue <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  metadata <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  source <span class="op">=</span> <span class="fu"><a href="MsBackend.html">MsBackendMemory</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  backend <span class="op">=</span> <span class="va">source</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  BPPARAM <span class="op">=</span> <span class="fu">bpparam</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'Spectra,MsBackend'</span></span>
<span><span class="fu">setBackend</span><span class="op">(</span></span>
<span>  <span class="va">object</span>,</span>
<span>  <span class="va">backend</span>,</span>
<span>  f <span class="op">=</span> <span class="fu"><a href="processingChunkSize.html">processingChunkFactor</a></span><span class="op">(</span><span class="va">object</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  BPPARAM <span class="op">=</span> <span class="fu">bpparam</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'Spectra'</span></span>
<span><span class="fu">export</span><span class="op">(</span><span class="va">object</span>, <span class="va">backend</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'Spectra'</span></span>
<span><span class="fu"><a href="MsBackend.html">dataStorageBasePath</a></span><span class="op">(</span><span class="va">object</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'Spectra'</span></span>
<span><span class="fu"><a href="MsBackend.html">dataStorageBasePath</a></span><span class="op">(</span><span class="va">object</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">value</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-object">object<a class="anchor" aria-label="anchor" href="#arg-object"></a></dt>
<dd><p>For <code>Spectra()</code>: an object to instantiate the <code>Spectra</code>
object and initialize the with data.. See section on creation of
<code>Spectra</code> objects for details. For all other methods a <code>Spectra</code> object.</p></dd>


<dt id="arg-processingqueue">processingQueue<a class="anchor" aria-label="anchor" href="#arg-processingqueue"></a></dt>
<dd><p>For <code>Spectra()</code>: optional <code>list</code> of
<a href="https://rdrr.io/pkg/ProtGenerics/man/ProcessingStep.html" class="external-link">ProtGenerics::ProcessingStep</a> objects.</p></dd>


<dt id="arg-metadata">metadata<a class="anchor" aria-label="anchor" href="#arg-metadata"></a></dt>
<dd><p>For <code>Spectra()</code>: optional <code>list</code> with metadata information.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional arguments.</p></dd>


<dt id="arg-backend">backend<a class="anchor" aria-label="anchor" href="#arg-backend"></a></dt>
<dd><p>For <code>Spectra()</code>: <a href="MsBackend.html">MsBackend</a> to be used as backend. See
section on creation of <code>Spectra</code> objects for details. For <code>setBackend()</code>:
instance of <a href="MsBackend.html">MsBackend</a> that supports <code>setBackend()</code> (i.e. for
which <code><a href="MsBackend.html">supportsSetBackend()</a></code> returns <code>TRUE</code>). Such backends have a
parameter <code>data</code> in their <code><a href="MsBackend.html">backendInitialize()</a></code> function that support
passing the full spectra data to the initialize method. See section on
creation of <code>Spectra</code> objects for details.
For <code>export()</code>: <a href="MsBackend.html">MsBackend</a> to be used to export the data.</p></dd>


<dt id="arg-bpparam">BPPARAM<a class="anchor" aria-label="anchor" href="#arg-bpparam"></a></dt>
<dd><p>Parallel setup configuration. See <code><a href="https://rdrr.io/pkg/BiocParallel/man/register.html" class="external-link">BiocParallel::bpparam()</a></code>
for more information. This is passed directly to the
<code><a href="MsBackend.html">backendInitialize()</a></code> method of the <a href="MsBackend.html">MsBackend</a>.</p></dd>


<dt id="arg-source">source<a class="anchor" aria-label="anchor" href="#arg-source"></a></dt>
<dd><p>For <code>Spectra()</code>: instance of <a href="MsBackend.html">MsBackend</a> that can be
used to import spectrum data from the provided files. See section
<em>Creation of objects</em> for more details.</p></dd>


<dt id="arg-f">f<a class="anchor" aria-label="anchor" href="#arg-f"></a></dt>
<dd><p>For <code>setBackend()</code>: factor defining how to split the data
for parallelized copying of the spectra data to the new backend. For
some backends changing this parameter can lead to errors. Defaults to
<code><a href="processingChunkSize.html">processingChunkFactor()</a></code>.</p></dd>


<dt id="arg-value">value<a class="anchor" aria-label="anchor" href="#arg-value"></a></dt>
<dd><p>For <code><a href="MsBackend.html">dataStorageBasePath()</a></code>: A <code>character</code> vector that defines
the base directory where the data storage files can be found.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The <code>Spectra</code> class uses by default a lazy data manipulation strategy,
i.e. data manipulations such as performed with <code><a href="addProcessing.html">replaceIntensitiesBelow()</a></code>
are not applied immediately to the data, but applied on-the-fly to the
spectrum data once it is retrieved. This enables data manipulation
operations also for <em>read only</em> data representations. For some backends that
allow to write data back to the data storage (such as the
<code><a href="MsBackend.html">MsBackendMemory()</a></code>, <code><a href="MsBackend.html">MsBackendDataFrame()</a></code> and <code><a href="MsBackend.html">MsBackendHdf5Peaks()</a></code>) it
is possible to apply to queue with the <code><a href="addProcessing.html">applyProcessing()</a></code> function (see
the <code><a href="addProcessing.html">applyProcessing()</a></code> function for details).</p>
<p>Clarifications regarding scan/acquisition numbers and indices:</p><ul><li><p>A <code>spectrumId</code> (or <code>spectrumID</code>) is a vendor specific field in
the mzML file that contains some information about the
run/spectrum, e.g.: <code>controllerType=0 controllerNumber=1 scan=5281 file=2</code></p></li>
<li><p><code>acquisitionNum</code> is a more a less sanitize spectrum id generated
from the <code>spectrumId</code> field by <code>mzR</code> (see
<a href="https://github.com/sneumann/mzR/blob/master/src/pwiz/data/msdata/MSData.cpp#L552-L580" class="external-link">here</a>).</p></li>
<li><p><code>scanIndex</code> is the <code>mzR</code> generated sequence number of the
spectrum in the raw file (which doesn't have to be the same as
the <code>acquisitionNum</code>)</p></li>
</ul><p>See also <a href="https://github.com/lgatto/MSnbase/issues/525" class="external-link">this issue</a>.</p>
    </div>
    <div class="section level2">
    <h2 id="data-stored-in-a-spectra-object">Data stored in a <code>Spectra</code> object<a class="anchor" aria-label="anchor" href="#data-stored-in-a-spectra-object"></a></h2>



<p>The <code>Spectra</code> object is a container for MS data that includes mass peak
data (<em>m/z</em> and related intensity values, also referred to as <em>peaks data</em>
in the context of <code>Spectra</code>) and metadata of individual spectra (so called
<em>spectra variables</em>). While a core set of spectra variables (the
<code><a href="spectraData.html">coreSpectraVariables()</a></code>) are guaranteed to be provided by a
<code>Spectra</code>, it is possible to add arbitrary additional spectra variables to
a <code>Spectra</code> object.</p>
<p>The <code>Spectra</code> object is designed to contain MS data of a (large) set of mass
spectra. The data is organized <em>linearly</em> and can be thought of a list of
mass spectra, i.e. each element in the <code>Spectra</code> is one spectrum.</p>
    </div>
    <div class="section level2">
    <h2 id="creation-of-objects">Creation of objects<a class="anchor" aria-label="anchor" href="#creation-of-objects"></a></h2>



<p><code>Spectra</code> classes can be created with the <code>Spectra()</code> constructor function
which supports the following formats:</p><ul><li><p>parameter <code>object</code> is a <code>data.frame</code> or <code>DataFrame</code> containing the
full spectrum data (spectra variables in columns as well as columns
with the individual MS peak data, <em>m/z</em> and intensity). The provided
<code>backend</code> (by default a <a href="MsBackend.html">MsBackendMemory</a>) will be initialized
with that data.</p></li>
<li><p>parameter <code>object</code> is a <a href="MsBackend.html">MsBackend</a> (assumed to be already
initialized).</p></li>
<li><p>parameter <code>object</code> is missing, in which case it is supposed that the data
is provided by the <a href="MsBackend.html">MsBackend</a> class passed along with the <code>backend</code>
argument.</p></li>
<li><p>parameter <code>object</code> is of type <code>character</code> and is expected to be the file
names(s) from which spectra should be imported. Parameter <code>source</code> allows
to define a <a href="MsBackend.html">MsBackend</a> that is able to import the data from the
provided source files. The default value for <code>source</code> is <code><a href="MsBackend.html">MsBackendMzR()</a></code>
which allows to import spectra data from mzML, mzXML or CDF files.</p></li>
</ul><p>With <code>...</code> additional arguments can be passed to the backend's
<code><a href="MsBackend.html">backendInitialize()</a></code> method. Parameter <code>backend</code> allows to specify which
<a href="MsBackend.html">MsBackend</a> should be used for data representation and storage.</p>
    </div>
    <div class="section level2">
    <h2 id="data-representation-of-a-spectra">Data representation of a <code>Spectra</code><a class="anchor" aria-label="anchor" href="#data-representation-of-a-spectra"></a></h2>



<p>The MS data which can be accessed through the <code>Spectra</code> object is
<em>represented</em> by its backend, which means that this backend defines how
and where the data is stored (e.g. in memory or on disk). The <code>Specrta</code>
object relies on the backend to provide the MS data whenever it needs it
for data processing.
Different backends with different properties, such as minimal memory
requirement or fast data access, are defined in the <em>Spectra</em> package or
one of the MsBackend* packages. More information on backends and their
properties is provided in the documentation of <a href="MsBackend.html">MsBackend</a>.</p>
<p>On-disk backends keep only a limited amount of data in memory retrieving
most of the data (usually the MS peak data) upon request on-the-fly from
their on-disk data representations. Moving the on-disk data storage of such
a backend or a serialized object to a different location in the file
system will cause data corruption. The <code><a href="MsBackend.html">dataStorageBasePath()</a></code> and
<code>dataStorageBasePath&lt;-</code> functions allow in such cases (and if thebackend
classes support this operation), to get or change the <em>base</em>
path to the directory of the backend's data storage. In-memory backends
such as <a href="MsBackend.html">MsBackendMemory</a> or <a href="MsBackend.html">MsBackendDataFrame</a> keeping all MS data in
memory don't support, and need, this function, but for <a href="MsBackend.html">MsBackendMzR</a> this
function can be used to update/adapt the path to the directory containing
the original data files. Thus, for <code>Spectra</code> objects (using this backend)
that were moved to another file system or computer, these functions allow to
adjust/adapt the base file path.</p>
    </div>
    <div class="section level2">
    <h2 id="changing-data-representation-of-a-spectra">Changing data representation of a <code>Spectra</code><a class="anchor" aria-label="anchor" href="#changing-data-representation-of-a-spectra"></a></h2>



<p>The data representation, i.e. the backend of a <code>Spectra</code> object can be
changed with the <code>setBackend()</code> method that takes an instance of the new
backend as second parameter <code>backend</code>. A call to
<code>setBackend(sps, backend = MsBackendDataFrame())</code>
would for example change the backend of <code>sps</code> to the <em>in-memory</em>
<code>MsBackendDataFrame</code>. Changing to a backend is only supported if that
backend has a <code>data</code> parameter in its <code><a href="MsBackend.html">backendInitialize()</a></code> method and if
<code><a href="MsBackend.html">supportsSetBackend()</a></code> returns <code>TRUE</code> for that backend. <code>setBackend()</code> will
transfer the full spectra data from the originating backend as a <code>DataFrame</code>
to the new backend.</p>
<p>Generally, it is not possible to change <strong>to</strong> a read-only backend such as
the <code><a href="MsBackend.html">MsBackendMzR()</a></code> backend.</p>
<p>The definition of the function is:
<code>setBackend(object, backend, ..., f = dataStorage(object), BPPARAM = bpparam())</code> and its parameters are:</p><ul><li><p><code>object</code>: the <code>Spectra</code> object.</p></li>
<li><p><code>backend</code>: an instance of the new backend, e.g. <code>[MsBackendMemory()]</code>.</p></li>
<li><p><code>f</code>: factor allowing to parallelize the change of the backends. By
default the process of copying the spectra data from the original to the
new backend is performed separately (and in parallel) for each file. Users
are advised to use the default setting.</p></li>
<li><p><code>...</code>: optional additional arguments passed to the <code><a href="MsBackend.html">backendInitialize()</a></code>
method of the new <code>backend</code>.</p></li>
<li><p><code>BPPARAM</code>: setup for the parallel processing. See
<code><a href="https://rdrr.io/pkg/BiocParallel/man/register.html" class="external-link">BiocParallel::bpparam()</a></code> for details.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="exporting-data-from-a-spectra-object">Exporting data from a <code>Spectra</code> object<a class="anchor" aria-label="anchor" href="#exporting-data-from-a-spectra-object"></a></h2>



<p>Data from a <code>Spectra</code> object can be <strong>exported</strong> to a file with the
<code>export()</code> function. The actual export of the data is performed by
the <code>export</code> method of the <a href="MsBackend.html">MsBackend</a> class defined with the mandatory
parameter <code>backend</code> which defines also the format in which the data
is exported. Note however that not all backend classes support
export of data. From the <code>MsBackend</code> classes in the <code>Spectra</code> package
currently only the <code>MsBackendMzR</code> backend supports data export (to
mzML/mzXML file(s)); see the help page of the <a href="MsBackend.html">MsBackend</a> for
information on its arguments or the examples below or the vignette
for examples.</p>
<p>The definition of the function is
<code>export(object, backend,  ...)</code> and its
parameters are:</p><ul><li><p><code>object</code>: the <code>Spectra</code> object to be exported.</p></li>
<li><p><code>backend</code>: instance of a class extending <a href="MsBackend.html">MsBackend</a> which supports export
of the data (i.e. which has a defined <code>export</code> method).</p></li>
<li><p><code>...</code>: additional parameters specific for the <code>MsBackend</code> passed with
parameter <code>backend</code>.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Sebastian Gibb, Johannes Rainer, Laurent Gatto, Philippine Louail</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">##  --------  CREATION OF SPECTRA OBJECTS  --------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Create a Spectra providing a `DataFrame` containing the spectrum data.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">spd</span> <span class="op">&lt;-</span> <span class="fu">DataFrame</span><span class="op">(</span>msLevel <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1L</span>, <span class="fl">2L</span><span class="op">)</span>, rtime <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1.1</span>, <span class="fl">1.2</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">spd</span><span class="op">$</span><span class="va">mz</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">103.2</span>, <span class="fl">104.3</span>, <span class="fl">106.5</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">45.6</span>, <span class="fl">120.4</span>, <span class="fl">190.2</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">spd</span><span class="op">$</span><span class="va">intensity</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">200</span>, <span class="fl">400</span>, <span class="fl">34.2</span>, <span class="fl">17</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">12.3</span>, <span class="fl">15.2</span>, <span class="fl">6.8</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">Spectra</span><span class="op">(</span><span class="va">spd</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">data</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> MSn data (Spectra) with 2 spectra in a MsBackendMemory backend:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     msLevel     rtime scanIndex</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   &lt;integer&gt; &lt;numeric&gt; &lt;integer&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1         1       1.1        NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2         2       1.2        NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  ... 16 more variables/columns.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Create a Spectra from mzML files and use the `MsBackendMzR` on-disk</span></span></span>
<span class="r-in"><span><span class="co">## backend.</span></span></span>
<span class="r-in"><span><span class="va">sciex_file</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">dir</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"sciex"</span>, package <span class="op">=</span> <span class="st">"msdata"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    full.names <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">sciex</span> <span class="op">&lt;-</span> <span class="fu">Spectra</span><span class="op">(</span><span class="va">sciex_file</span>, backend <span class="op">=</span> <span class="fu"><a href="MsBackend.html">MsBackendMzR</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">sciex</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> MSn data (Spectra) with 1862 spectra in a MsBackendMzR backend:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        msLevel     rtime scanIndex</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      &lt;integer&gt; &lt;numeric&gt; &lt;integer&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1            1     0.280         1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2            1     0.559         2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3            1     0.838         3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4            1     1.117         4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5            1     1.396         5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ...        ...       ...       ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1858         1   258.636       927</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1859         1   258.915       928</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1860         1   259.194       929</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1861         1   259.473       930</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1862         1   259.752       931</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  ... 34 more variables/columns.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> file(s):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20171016_POOL_POS_1_105-134.mzML</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20171016_POOL_POS_3_105-134.mzML</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">##  --------  CHANGING DATA REPRESENTATIONS  --------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## The MS data is on disk and will be read into memory on-demand. We can</span></span></span>
<span class="r-in"><span><span class="co">## however change the backend to a MsBackendMemory backend which will</span></span></span>
<span class="r-in"><span><span class="co">## keep all of the data in memory.</span></span></span>
<span class="r-in"><span><span class="va">sciex_im</span> <span class="op">&lt;-</span> <span class="fu">setBackend</span><span class="op">(</span><span class="va">sciex</span>, <span class="fu"><a href="MsBackend.html">MsBackendMemory</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">sciex_im</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> MSn data (Spectra) with 1862 spectra in a MsBackendMemory backend:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        msLevel     rtime scanIndex</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      &lt;integer&gt; &lt;numeric&gt; &lt;integer&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1            1     0.280         1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2            1     0.559         2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3            1     0.838         3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4            1     1.117         4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5            1     1.396         5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ...        ...       ...       ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1858         1   258.636       927</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1859         1   258.915       928</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1860         1   259.194       929</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1861         1   259.473       930</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1862         1   259.752       931</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  ... 34 more variables/columns.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Processing:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Switch backend from MsBackendMzR to MsBackendMemory [Mon May 19 06:44:34 2025] </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## The `MsBackendMemory()` supports the `setBackend()` method:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="MsBackend.html">supportsSetBackend</a></span><span class="op">(</span><span class="fu"><a href="MsBackend.html">MsBackendMemory</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Thus, it is possible to change to that backend with `setBackend()`. Most</span></span></span>
<span class="r-in"><span><span class="co">## read-only backends however don't support that, such as the</span></span></span>
<span class="r-in"><span><span class="co">## `MsBackendMzR` and `setBackend()` would fail to change to that backend.</span></span></span>
<span class="r-in"><span><span class="fu"><a href="MsBackend.html">supportsSetBackend</a></span><span class="op">(</span><span class="fu"><a href="MsBackend.html">MsBackendMzR</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## The on-disk object `sciex` is light-weight, because it does not keep the</span></span></span>
<span class="r-in"><span><span class="co">## MS peak data in memory. The `sciex_im` object in contrast keeps all the</span></span></span>
<span class="r-in"><span><span class="co">## data in memory and its size is thus much larger.</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/object.size.html" class="external-link">object.size</a></span><span class="op">(</span><span class="va">sciex</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 411016 bytes</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/object.size.html" class="external-link">object.size</a></span><span class="op">(</span><span class="va">sciex_im</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 55817368 bytes</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## The spectra variable `dataStorage` returns for each spectrum the location</span></span></span>
<span class="r-in"><span><span class="co">## where the data is stored. For in-memory objects:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="spectraData.html">dataStorage</a></span><span class="op">(</span><span class="va">sciex_im</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "&lt;memory&gt;" "&lt;memory&gt;" "&lt;memory&gt;" "&lt;memory&gt;" "&lt;memory&gt;" "&lt;memory&gt;"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## While objects that use an on-disk backend will list the files where the</span></span></span>
<span class="r-in"><span><span class="co">## data is stored.</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="spectraData.html">dataStorage</a></span><span class="op">(</span><span class="va">sciex</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "/__w/_temp/Library/msdata/sciex/20171016_POOL_POS_1_105-134.mzML"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2] "/__w/_temp/Library/msdata/sciex/20171016_POOL_POS_1_105-134.mzML"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3] "/__w/_temp/Library/msdata/sciex/20171016_POOL_POS_1_105-134.mzML"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4] "/__w/_temp/Library/msdata/sciex/20171016_POOL_POS_1_105-134.mzML"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5] "/__w/_temp/Library/msdata/sciex/20171016_POOL_POS_1_105-134.mzML"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [6] "/__w/_temp/Library/msdata/sciex/20171016_POOL_POS_1_105-134.mzML"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## The spectra variable `dataOrigin` returns for each spectrum the *origin*</span></span></span>
<span class="r-in"><span><span class="co">## of the data. If the data is read from e.g. mzML files, this will be the</span></span></span>
<span class="r-in"><span><span class="co">## original mzML file name:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="spectraData.html">dataOrigin</a></span><span class="op">(</span><span class="va">sciex</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "/__w/_temp/Library/msdata/sciex/20171016_POOL_POS_1_105-134.mzML"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2] "/__w/_temp/Library/msdata/sciex/20171016_POOL_POS_1_105-134.mzML"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3] "/__w/_temp/Library/msdata/sciex/20171016_POOL_POS_1_105-134.mzML"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4] "/__w/_temp/Library/msdata/sciex/20171016_POOL_POS_1_105-134.mzML"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5] "/__w/_temp/Library/msdata/sciex/20171016_POOL_POS_1_105-134.mzML"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [6] "/__w/_temp/Library/msdata/sciex/20171016_POOL_POS_1_105-134.mzML"</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="spectraData.html">dataOrigin</a></span><span class="op">(</span><span class="va">sciex_im</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "/__w/_temp/Library/msdata/sciex/20171016_POOL_POS_1_105-134.mzML"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2] "/__w/_temp/Library/msdata/sciex/20171016_POOL_POS_1_105-134.mzML"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3] "/__w/_temp/Library/msdata/sciex/20171016_POOL_POS_1_105-134.mzML"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4] "/__w/_temp/Library/msdata/sciex/20171016_POOL_POS_1_105-134.mzML"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5] "/__w/_temp/Library/msdata/sciex/20171016_POOL_POS_1_105-134.mzML"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [6] "/__w/_temp/Library/msdata/sciex/20171016_POOL_POS_1_105-134.mzML"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">##  -------- DATA EXPORT  --------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Some `MsBackend` classes provide an `export()` method to export the data</span></span></span>
<span class="r-in"><span><span class="co">## to the file format supported by the backend.</span></span></span>
<span class="r-in"><span><span class="co">## The `MsBackendMzR` for example allows to export MS data to mzML or</span></span></span>
<span class="r-in"><span><span class="co">## mzXML file(s), the `MsBackendMgf` (defined in the MsBackendMgf R package)</span></span></span>
<span class="r-in"><span><span class="co">## would allow to export the data in mgf file format.</span></span></span>
<span class="r-in"><span><span class="co">## Below we export the MS data in `data`. We call the `export()` method on</span></span></span>
<span class="r-in"><span><span class="co">## this object, specify the backend that should be used to export the data</span></span></span>
<span class="r-in"><span><span class="co">## (and which also defines the output format) and provide a file name.</span></span></span>
<span class="r-in"><span><span class="va">fl</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">export</span><span class="op">(</span><span class="va">data</span>, <span class="fu"><a href="MsBackend.html">MsBackendMzR</a></span><span class="op">(</span><span class="op">)</span>, file <span class="op">=</span> <span class="va">fl</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## This exported our data in mzML format. Below we read the first 6 lines</span></span></span>
<span class="r-in"><span><span class="co">## from that file.</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/readLines.html" class="external-link">readLines</a></span><span class="op">(</span><span class="va">fl</span>, n <span class="op">=</span> <span class="fl">6</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;"                                                                                                                                                                                            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2] "&lt;indexedmzML xmlns=\"http://psi.hupo.org/ms/mzml\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://psi.hupo.org/ms/mzml http://psidev.info/files/ms/mzML/xsd/mzML1.1.2_idx.xsd\"&gt;"                 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3] "  &lt;mzML xmlns=\"http://psi.hupo.org/ms/mzml\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://psi.hupo.org/ms/mzml http://psidev.info/files/ms/mzML/xsd/mzML1.1.0.xsd\" id=\"\" version=\"1.1.0\"&gt;"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4] "    &lt;cvList count=\"2\"&gt;"                                                                                                                                                                                                              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5] "      &lt;cv id=\"MS\" fullName=\"Proteomics Standards Initiative Mass Spectrometry Ontology\" version=\"4.1.163\" URI=\"https://raw.githubusercontent.com/HUPO-PSI/psi-ms-CV/master/psi-ms.obo\"/&gt;"                                      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [6] "      &lt;cv id=\"UO\" fullName=\"Unit Ontology\" version=\"09:04:2014\" URI=\"https://raw.githubusercontent.com/bio-ontology-research-group/unit-ontology/master/unit.obo\"/&gt;"                                                           </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## If only a single file name is provided, all spectra are exported to that</span></span></span>
<span class="r-in"><span><span class="co">## file. To export data with the `MsBackendMzR` backend to different files, a</span></span></span>
<span class="r-in"><span><span class="co">## file name for each individual spectrum has to be provided.</span></span></span>
<span class="r-in"><span><span class="co">## Below we export each spectrum to its own file.</span></span></span>
<span class="r-in"><span><span class="va">fls</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">export</span><span class="op">(</span><span class="va">data</span>, <span class="fu"><a href="MsBackend.html">MsBackendMzR</a></span><span class="op">(</span><span class="op">)</span>, file <span class="op">=</span> <span class="va">fls</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Reading the data from the first file</span></span></span>
<span class="r-in"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu">Spectra</span><span class="op">(</span><span class="fu"><a href="MsBackend.html">backendInitialize</a></span><span class="op">(</span><span class="fu"><a href="MsBackend.html">MsBackendMzR</a></span><span class="op">(</span><span class="op">)</span>, <span class="va">fls</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="spectraData.html">mz</a></span><span class="op">(</span><span class="va">res</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NumericList of length 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[1]] 100 103.2 104.3 106.5</span>
<span class="r-in"><span><span class="fu"><a href="spectraData.html">mz</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NumericList of length 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[1]] 100 103.2 104.3 106.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[2]] 45.6 120.4 190.2</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by RforMassSpectrometry Package Maintainer, Laurent Gatto, Johannes Rainer, Sebastian Gibb, Philippine Louail.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.9000.</p>
</div>

    </footer></div>





  </body></html>

